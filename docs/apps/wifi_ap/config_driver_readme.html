<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Wi-Fi Soft AP (driver mode) | Harmony 3 Wireles application examples for PIC32MZ W1 family</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Wi-Fi Soft AP (driver mode)" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Wireless application examples for PIC32MZ W1 family" /> <meta property="og:description" content="Harmony 3 Wireless application examples for PIC32MZ W1 family" /> <link rel="canonical" href="../../apps/wifi_ap/config_driver_readme.html" /> <meta property="og:url" content="../../apps/wifi_ap/config_driver_readme.html" /> <meta property="og:site_name" content="Harmony 3 Wireles application examples for PIC32MZ W1 family" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Wi-Fi Soft AP (driver mode)" /> <script type="application/ld+json"> {"@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"url":"../../apps/wifi_ap/config_driver_readme.html","headline":"Wi-Fi Soft AP (driver mode)","description":"Harmony 3 Wireless application examples for PIC32MZ W1 family","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../" class="nav-list-link">Harmony 3 Wireless application examples for PIC32MZ W1 family</a><ul class="nav-list "><li class="nav-list-item "><a href="../../apps/ifttt/readme.html" class="nav-list-link">IFTTT Demo</a></li><li class="nav-list-item "><a href="../../apps/ota_bootloader/readme.html" class="nav-list-link">OTA Boot Loader</a></li><li class="nav-list-item "><a href="../../apps/wifi_ota_app_upgrade/readme.html" class="nav-list-link">Over The Air (OTA) Upgrade Using Wi-Fi</a></li><li class="nav-list-item "><a href="../../apps/paho_mqtt_client/readme.html" class="nav-list-link">Paho MQTT Client</a></li><li class="nav-list-item "><a href="../../apps/paho_mqtt_tls_client/readme.html" class="nav-list-link">Paho MQTT TLS Client</a></li><li class="nav-list-item "><a href="../../apps/tcp_client/readme.html" class="nav-list-link">Secured TCP Client</a></li><li class="nav-list-item "><a href="../../apps/tcp_server/readme.html" class="nav-list-link">TCP Server</a></li><li class="nav-list-item "><a href="../../apps/udp_client/readme.html" class="nav-list-link">UDP Client</a></li><li class="nav-list-item "><a href="../../apps/udp_server/readme.html" class="nav-list-link">UDP Server</a></li><li class="nav-list-item "><a href="../../apps/weather_client/readme.html" class="nav-list-link">Weather Client</a></li><li class="nav-list-item "><a href="../../apps/web_socket_server/readme.html" class="nav-list-link">Web Socket Server</a></li><li class="nav-list-item "><a href="../../apps/wifi_easy_config/readme.html" class="nav-list-link">Wi-Fi Easy Configuration</a></li><li class="nav-list-item "><a href="../../apps/wifi_sta/config_driver_readme.html" class="nav-list-link">Wi-Fi STA (driver mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_sta/readme.html" class="nav-list-link">Wi-Fi STA (service mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_ap/readme.html" class="nav-list-link">Wi-Fi Soft AP (Service mode)</a></li><li class="nav-list-item active"><a href="../../apps/wifi_ap/config_driver_readme.html" class="nav-list-link active">Wi-Fi Soft AP (driver mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_eth_dual_interface/readme.html" class="nav-list-link">Wi-Fi ethernet dual interface</a></li></ul></li><li class="nav-list-item"><a href="../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 Wireles application examples for PIC32MZ W1 family" aria-label="Search Harmony 3 Wireles application examples for PIC32MZ W1 family" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../">Harmony 3 Wireless application examples for PIC32MZ W1 family</a></li> <li class="breadcrumb-nav-list-item"><span>Wi-Fi Soft AP (driver mode)</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><a href="https://www.microchip.com"><img src="https://www.microchip.com/ResourcePackages/Microchip/assets/dist/images/logo.png" alt="MCHP" /></a></p> <h1 id="wlan-ap"> <a href="#wlan-ap" aria-labelledby="wlan-ap" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> WLAN AP </h1> <p>This example application shows how to use the PIC32MZW1 WLAN APIs to configure the device in AP mode directly using the WLAN driver APIs.</p> <h2 id="description"> <a href="#description" aria-labelledby="description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Description </h2> <p>This application shows the various commands to be used for AP mode of PIC32MZW1 device. The user can use these commands in configuring the device as AP, start or stop the device as AP, scan operations etc…</p> <h2 id="downloading-and-building-the-application"> <a href="#downloading-and-building-the-application" aria-labelledby="downloading-and-building-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Downloading and building the application </h2> <p>To download or clone this application from Github, go to the <a href="https://github.com/Microchip-MPLAB-Harmony/wireless_apps_pic32mzw1_wfi32e01">top level of the repository</a> and click</p> <p><img src="../../apps/wifi_ap/images/clone.png" alt="clone" /></p> <p>Path of the application within the repository is <strong>apps/wifi_ap/firmware</strong> .</p> <p>To build the application, refer to the following table and open the project using its IDE.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Project Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>pic32mz_w1_curiosity_driver.X</td> <td>MPLABX project for PIC32MZ W1 Curiosity Board</td> </tr> <tr> <td> </td> <td> </td> </tr> </tbody> </table></div> <h2 id="configuring-the-application"> <a href="#configuring-the-application" aria-labelledby="configuring-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring the Application </h2> <h4 id="setting-up-a-regulatory-region"> <a href="#setting-up-a-regulatory-region" aria-labelledby="setting-up-a-regulatory-region" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up a regulatory region </h4> <p>The available regulatory domains are - GEN, USA, EMEA, CUST1 and CUST2. One of these regulatory domains must be selected as an active domain. This selection can be done in two ways.</p> <h4 id="using-mhc"> <a href="#using-mhc" aria-labelledby="using-mhc" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using MHC </h4> <p>Figure below shows how to set the regulatory domain in MHC and the path is: TCPIP &amp; SYS_CONSOLE -&gt; TCP/IP STACK -&gt; BASIC CONFIGURATION -&gt; PIC32MZW1</p> <p><img src="../../apps/wifi_ap/images/mhc_regulatory.png" alt="" /></p> <h4 id="using-command"> <a href="#using-command" aria-labelledby="using-command" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using command </h4> <p><strong>wlan set regdomain &lt;reg_domain_name&gt;</strong> is the command used to set the regulatory domain. (wlan set regdomain USA – sets the regulatory domain to USA).</p> <p>++Note++: User can change the regulatory domain using this command only if the current setting is “None” (cofigured using MHC)</p> <h2 id="setting-up-the-hardware"> <a href="#setting-up-the-hardware" aria-labelledby="setting-up-the-hardware" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up the hardware </h2> <p>The following table shows the target hardware for the application projects.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Project Name</th> <th style="text-align: center">Board</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">pic32mz_w1_curiosity_driver.X</td> <td style="text-align: center">PIC32MZ W1 Curiosity Board</td> </tr> <tr> <td style="text-align: left"> </td> <td style="text-align: center"> </td> </tr> </tbody> </table></div> <h3 id="setting-up-pic32mz-w1-curiosity-board"> <a href="#setting-up-pic32mz-w1-curiosity-board" aria-labelledby="setting-up-pic32mz-w1-curiosity-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up PIC32MZ W1 Curiosity Board </h3> <ul> <li>Connect the Debug USB port on the board to the computer using a micro USB cable</li> <li>On the GPIO Header (J207), connect U1RX (PIN 13) and U1TX (PIN 23) to TX and RX pin of any USB to UART converter like <a href="https://www.mikroe.com/usb-uart-click">USB UART click</a> respectively</li> </ul> <h2 id="running-the-application"> <a href="#running-the-application" aria-labelledby="running-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running the Application </h2> <ol> <li>Open the Terminal application (Ex.:Tera term) on the computer</li> <li>Connect to the “USB to UART” COM port and configure the serial settings as follows: <ul> <li>Baud : 115200</li> <li>Data : 8 Bits</li> <li>Parity : None</li> <li>Stop : 1 Bit</li> <li>Flow Control : None</li> </ul> </li> <li>Build and Program the application project using its IDE</li> <li>Console displays the initialization messages and WLAN config if already saved in NVM</li> </ol> <p><img src="../../apps/wifi_ap/images/output.png" alt="output" /></p> <h2 id="supported-commands"> <a href="#supported-commands" aria-labelledby="supported-commands" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Supported Commands </h2> <div class="table-wrapper"><table> <thead> <tr> <th>Command</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>wlan config &lt;ssid&gt; &lt;ssid_length&gt; &lt;ssid_visible&gt; &lt;channel&gt; &lt;open/wpa2/wpam/wpa3/wpa3m/wep&gt; &lt;password&gt;</td> <td>Configures the SSID, SSID length, SSID visibility, channel number and the security of the AP that DUT wants to connect. NOTE: Valid channel numbers are in range 1-13</td> </tr> <tr> <td>wlan ap start</td> <td>Start the AP</td> </tr> <tr> <td>wlan ap stop</td> <td>Stop the AP</td> </tr> <tr> <td>wlan show devices</td> <td>The connected devices are shown – MAC and IP addresses are displayed</td> </tr> <tr> <td>wlan scan &lt;active / passive&gt; &lt;channel&gt;</td> <td>Runs either a active or passive scan (as per the input) on the channel number specified</td> </tr> <tr> <td>wlan save config</td> <td>Stores the WLAN configurations given in command “wlan config” to flash memory. On restart DUT is started as AP with the credentials stored in flash.</td> </tr> <tr> <td>wlan set regdomain <reg_domain_name></reg_domain_name></td> <td>Sets the regulatory domain</td> </tr> <tr> <td>wlan get regdomain &lt;all / current&gt;</td> <td>Displays the regulatory domain all – request all regulatory domains; current - request current regulatory domain</td> </tr> <tr> <td> </td> <td> </td> </tr> </tbody> </table></div> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2021 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
