<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Over The Air (OTA) Upgrade Using Wi-Fi | Harmony 3 Wireles application examples for PIC32MZ W1 family</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Over The Air (OTA) Upgrade Using Wi-Fi" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Wireless application examples for PIC32MZ W1 family" /> <meta property="og:description" content="Harmony 3 Wireless application examples for PIC32MZ W1 family" /> <link rel="canonical" href="../../apps/wifi_ota_app_upgrade/readme.html" /> <meta property="og:url" content="../../apps/wifi_ota_app_upgrade/readme.html" /> <meta property="og:site_name" content="Harmony 3 Wireles application examples for PIC32MZ W1 family" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Over The Air (OTA) Upgrade Using Wi-Fi" /> <script type="application/ld+json"> {"@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"url":"../../apps/wifi_ota_app_upgrade/readme.html","headline":"Over The Air (OTA) Upgrade Using Wi-Fi","description":"Harmony 3 Wireless application examples for PIC32MZ W1 family","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../" class="nav-list-link">Harmony 3 Wireless application examples for PIC32MZ W1 family</a><ul class="nav-list "><li class="nav-list-item "><a href="../../apps/ota_bootloader/readme.html" class="nav-list-link">OTA Boot Loader</a></li><li class="nav-list-item "><a href="../../apps/paho_mqtt_client/readme.html" class="nav-list-link">Paho MQTT Client</a></li><li class="nav-list-item "><a href="../../apps/paho_mqtt_tls_client/readme.html" class="nav-list-link">Paho MQTT TLS Client</a></li><li class="nav-list-item "><a href="../../apps/tcp_client/readme.html" class="nav-list-link">Secured TCP Client</a></li><li class="nav-list-item "><a href="../../apps/tcp_server/readme.html" class="nav-list-link">TCP Server</a></li><li class="nav-list-item "><a href="../../apps/udp_client/readme.html" class="nav-list-link">UDP Client</a></li><li class="nav-list-item "><a href="../../apps/udp_server/readme.html" class="nav-list-link">UDP Server</a></li><li class="nav-list-item "><a href="../../apps/weather_client/readme.html" class="nav-list-link">Weather Client</a></li><li class="nav-list-item "><a href="../../apps/wifi_easy_config/readme.html" class="nav-list-link">Wi-Fi Easy Configuration</a></li><li class="nav-list-item "><a href="../../apps/wifi_sta/config_driver_readme.html" class="nav-list-link">Wi-Fi STA (driver mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_sta/readme.html" class="nav-list-link">Wi-Fi STA (service mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_ap/readme.html" class="nav-list-link">Wi-Fi Soft AP (Service mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_ap/config_driver_readme.html" class="nav-list-link">Wi-Fi Soft AP (driver mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_eth_dual_interface/readme.html" class="nav-list-link">Wi-Fi ethernet dual interface</a></li><li class="nav-list-item "><a href="../../apps/wifi_touch_demo/readme.html" class="nav-list-link">WiFi Touch Demo</a></li></ul></li><li class="nav-list-item"><a href="../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 Wireles application examples for PIC32MZ W1 family" aria-label="Search Harmony 3 Wireles application examples for PIC32MZ W1 family" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="">Harmony 3 Wireless Package</a></li> <li class="breadcrumb-nav-list-item"><span>Over The Air (OTA) Upgrade Using Wi-Fi</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><a href="https://www.microchip.com"><img src="https://www.microchip.com/ResourcePackages/Microchip/assets/dist/images/logo.png" alt="MCHP" /></a></p> <h1 id="over-the-air-ota-programming-using-wi-fi"> <a href="#over-the-air-ota-programming-using-wi-fi" aria-labelledby="over-the-air-ota-programming-using-wi-fi" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Over The Air (OTA) Programming Using Wi-Fi </h1> <p>This example application acts as a Wi-Fi Station(STA) to connect to Access point(AP) and perform OTA application update process to download an image present in the HTTP server.</p> <h2 id="description"> <a href="#description" aria-labelledby="description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Description </h2> <p>This application demonstrates how a user can perform OTA application upgrade using Wi-Fi. The user would need to configure the Home AP credentials (like SSID and security items). The Wi-Fi service will use the credentials to connect to the Home AP and acquire an IP address. Once the IP address is obtained application will perform OTA update process.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/wifi_sta_http_server_1.png" alt="" /></p> <p>Application will try to connect with the defined server address and download the new image. The downloaded image will be stored in the external flash (sst26vf) initially. User need to reset the device to run new image once image is successfully downloaded from server. When device is reset bootloader will try to program the image from the external flash and if programming is successful ,downloaded image from the server will be executed .</p> <p>It is required to build “ota_bootloader” project located in the “wireless” apps folder of this repo first before building this application as the image of the bootloader application will be used to integrate with the “eifi_ota_app_upgrade” application image. A unified hex file will be built using Hexmate tool and the unified HEX image will be loaded to the device. More details about this can be found in “Running Application” section below.</p> <p>This application uses SPI protocol to place the newly downloaded image to the external flash. The External flash will be configured for 3 slots for storing upto 3 OTA images. Each slot is of size 832Kb. Each OTA image will also include header to maintain the image status. The default application will try to establish a connection to AP “DEMO_AP” with WPA2 security and password as a “password”.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/SPI_com.png" alt="" /></p> <h2 id="ota-application-framework-architecture"> <a href="#ota-application-framework-architecture" aria-labelledby="ota-application-framework-architecture" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> OTA Application framework Architecture </h2> <p>Over the Air (OTA) firmware upgrade feature is designed with a two step process, Image Downloading and Image Programming process. Image Downloading process is now processed by the main application firmware.</p> <p>Abstraction model:</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/abstraction_model.PNG" alt="abstractionmodel" /></p> <ul> <li>Application is responsible to start the OTA process by calling <code class="language-plaintext highlighter-rouge">OTA_start()</code> function to download the new image into the Image Store in the external flash (sst26vf).</li> <li>Image downloading is done through HTTP protocol.</li> <li>Bootloader is responsible for the programming process, which loads and copies the best image from Image Store to Program area and jumps to the Application. The bootloader also supports ‘Fail-Safe’ boot scheme which the firmware automatically rolls back if the image has not been run correctly at the previous boot.</li> <li>Image-Store in external flash (sst26vf) can have multiple images, including the default image for factory reset.</li> </ul> <p><strong>Application Image Structure :</strong></p> <p>OTA application image structure is organised as shown in below picture. Total application length includes header bytes as well.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/Application_Image2.png" alt="image_structure" /></p> <p>Bootloader copies <code class="language-plaintext highlighter-rouge">Application Image Length</code> bytes from Image-Store to Program-flash area.</p> <p><strong>Application Header Structure :</strong></p> <p>Every ota image includes a header to keep track of image status as shown in below table:</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/ota_header.PNG" alt="applicationheader" /></p> <p>OTA application and bootloader maintains <code class="language-plaintext highlighter-rouge">IMAGE_HEADER_SIGNATURE</code> byte, which is of one byte, located at 4096th byte (the last byte on the sector, refer Application Image Structure above) on the image header. The value should contain the same with the status field on the top. This is to ensure sector image integrity. If values are different, it is suspected the power cut or unknown reboot happened during the sector programming and image in that particular slot is treated as invalid image.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/ota_header1.PNG" alt="applicationheader" /></p> <ul> <li> <p><strong>order</strong> - it will be incremented for every image downloaded using OTA. If this value reaches 15 and then OTA process downloads a new image , value will 1.</p> </li> <li> <p><strong>slot</strong> - it will indicate the slot in the external flash where the image is located.</p> <ul> <li>0 for defual image</li> <li>1 for slot 1</li> <li>2 for slot 2</li> </ul> </li> </ul> <p>OTA application follows below steps while downloading an image from HTTP server:</p> <ol> <li> <p><strong>Allocating slot</strong>: When OTA process is initiated, the OTA framework will try to allocate a slot for the new image in the external flash. This slot will either be a blank slot, the lowest ranked or invalidated application firmware image slot. The External flash will be configured for 3 slots for, storing upto 3 OTA images. Slot 0 is reserved for the factory image and can not be replaced with an image obtained through OTA process. Only slot 1 and slot 2 will be used for storing new OTA images. Application allocates the slots in sequential order, meaning ota image downloaded during first OTA process will be stored in slot1 and 2nd OTA image downloaded during 2nd OTA process will be stored in the slot2. If the highest slot (slot 2) is already filled with the latest OTA image and user initiates OTA in this situation again, then the slot1 will be allocated for the new OTA image.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/ext_flash.PNG" alt="externalflashlayout" /></p> </li> <li> <p>The transport layer (HTTP protocol) starts downloading the image.</p> </li> <li> <p>OTA framework verifies the image by checking the signature field once transport layer finished receiving all data. Signature is a SHA-256 hash. If the downloaded image is valid, the OTA framework updates “Boot-Control”-header, status field of the current application to “Disabled” 0xF0.</p> </li> <li> <p>The application will be notified about OTA process completion using user registered call-back function. If OTA download has successfully finished, the application must reset the system to start the programming process.</p> </li> </ol> <p>Flow Chart Of The Application:</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/DownloadSequence3.png" alt="flowChart" /></p> <h2 id="downloading-and-building-the-application"> <a href="#downloading-and-building-the-application" aria-labelledby="downloading-and-building-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Downloading and building the application </h2> <p>To download or clone this application from Github, go to the <a href="https://github.com/Microchip-MPLAB-Harmony/wireless_apps_pic32mzw1_wfi32e01">top level of the repository</a></p> <p>Path of the application within the repository is <strong>apps/wifi_ota_app_upgrade/firmware</strong> .</p> <p>To build the application, refer to the following table and open the project using its IDE.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Project Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>pic32mz_w1_curiosity_freertos.X</td> <td>MPLABX project for PIC32MZ W1 Curiosity Board</td> </tr> <tr> <td> </td> <td> </td> </tr> </tbody> </table></div> <h2 id="setting-up-pic32mz-w1-curiosity-board"> <a href="#setting-up-pic32mz-w1-curiosity-board" aria-labelledby="setting-up-pic32mz-w1-curiosity-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up PIC32MZ W1 Curiosity Board </h2> <ul> <li>Connect the Debug USB port on the board to the computer using a micro USB cable</li> <li>On the GPIO Header (J207), connect U1RX (PIN 13) and U1TX (PIN 23) to TX and RX pin of any USB to UART converter</li> <li>Home AP (Wi-Fi Access Point with internet connection)</li> <li>HTTP server.</li> <li>python 3.9.0 .</li> </ul> <h2 id="running-the-application"> <a href="#running-the-application" aria-labelledby="running-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running the Application </h2> <ol> <li>Open the project “wifi_ota_app_upgrade”.</li> <li> <p>Demo is configured with the default wifi credentials shown in the image below. To change the configurations launch the Harmony 3 configurator and update the home AP credentials for STA Mode and generate code.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/wifi_sta_MHC1.png" alt="MHC" /></p> </li> <li>As a part of OTA process device will try to connect to user defined HTTP server. If device is able to connect to server without any error, it will try to download the image “.ota” (image name should be defined correctly by user). <ul> <li>User can use any HTTP server.</li> <li> <p>User may also use python command to create a local http server using below steps:</p> <ul> <li> <p>Open command prompt and change driectory to the folder where ota image is present.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/Change_dir.PNG" alt="directory" /></p> </li> <li> <p>Use below python command in command prompt:</p> <p><code class="language-plaintext highlighter-rouge">python -m http.server 8000</code></p> <p><img src="../../apps/wifi_ota_app_upgrade/images/http_server.PNG" alt="server" /></p> </li> </ul> </li> </ul> </li> <li> <p>Configure HTTP server address and ota image name in “app.h” file using macro “#define SYS_OTA_URL”.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/server_configure.png" alt="MHC" /></p> </li> <li> <p>User need to disable “Add linker file” option to exclude MHC generated default linker file, and add the required custom linker file present in path <code class="language-plaintext highlighter-rouge">..\wifi_ota_app_upgrade\firmware\src\ota</code></p> <p><img src="../../apps/wifi_ota_app_upgrade/images/DisableLinker.png" alt="disablelinker" /></p> <p><img src="../../apps/wifi_ota_app_upgrade/images/add_linker1.png" alt="addlinker" /></p> <p><img src="../../apps/wifi_ota_app_upgrade/images/add_linker2.png" alt="addlinker" /></p> </li> <li> <p>Generate the code using MHC.</p> </li> <li> <p>It is required to integrate the bootloader and ota application image and create a single unified HEX file. To integrate 2 images we can use hexmate tool, which is readily available with MPLABX package as part of the standard installation. To combine the hex files -</p> <ul> <li> <p>User should load the “ota_bootloader” project located in the “wireless” apps folder of this repo and include it into “wifi_ota_app_upgrade” project as a “Loadable” component. For this, right click on the “wifi_ota_app_upgrade” project, click on “properties” and select “ota_bootloader” project. User need to make sure that the steps mentioned in “ota_bootloader” reference document is followed, before this step.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/project_loading.PNG" alt="imageloading" /></p> <p><img src="../../apps/wifi_ota_app_upgrade/images/project_loading_1.PNG" alt="imageloading" /></p> </li> <li> <p>Click on “Apply” button to make the applied changes effective:</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/project_loading_2.PNG" alt="imageloading" /></p> </li> </ul> </li> <li>It is required to perform a “post-build” step to create ota image with file extension “.ota” (which can be placed in the server and downloaded during OTA process) and factory reset image. During “post-build” a defined header will be included to the image using python script. <ul> <li>All required files for post-build process are present in “utilities” folder which is present in the path <strong>apps/wifi_ota_app_upgrade/</strong>.</li> <li> <p>Right click on the “wifi_ota_app_upgrade” project and click on properties.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/project_loading.PNG" alt="imageloading" /></p> </li> <li> <p>Select “building”, insert below command and click “OK”:</p> <p><code class="language-plaintext highlighter-rouge">python ../../utilities/pic32mzw1/ota/post_process.py -d ${Device} -p ${ProjectDir} -c ${ConfName} -i ${ImagePath} ${ImageDir} ${ImageName} ${IsDebug}</code></p> <p><strong>Note</strong>: python should be present in the system variable path.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/post_build.png" alt="postbuild" /></p> </li> <li>User can download any valid binary or hex image. ( Not necessary to be image with “.ota” extension )</li> </ul> </li> <li> <p>Build and program the application.</p> </li> <li> <p>Place the <code class="language-plaintext highlighter-rouge">.ota</code> image into the HTTP server. The <code class="language-plaintext highlighter-rouge">.ota</code> image can be found in below path which is generated during “wifi_ota_app_upgrade” project build : <code class="language-plaintext highlighter-rouge">..\firmware\wifi_ota_app_upgrade.X\dist\pic32mz_w1_curiosity_freertos\production</code></p> </li> <li>Connect to a USB to UART converter to UART1 and Open a Terminal application (Ex.:Tera term) on the computer. Configure the serial settings as follows: <ul> <li>Baud : 230400</li> <li>Data : 8 Bits</li> <li>Parity : None</li> <li>Stop : 1 Bit</li> <li>Flow Control : None</li> </ul> </li> <li> <p>The device will connect to the Home AP and print the IP address obtained.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/wifi_sta_log1.png" alt="console" /></p> </li> <li> <p>From the DUT(Device Under Test), user can ping the Gateway IP address.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/wifi_sta_log2.png" alt="console" /></p> </li> <li> <p>Once IP address is obtained the device will initiate OTA process.</p> </li> <li> <p>User should make sure that both HTTP server and the PIC32MZW1 device are part of same wifi network (or connected to same Home AP).</p> </li> <li> <p>Once image is downloaded successfully, the application will print a message in the console. User need to reset the device to load the new image.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/ota_process_pass.png" alt="otasuccess" /></p> </li> <li> <p>If OTA upgrade fails, user need to reset the device to initiate OTA process again.</p> <p><img src="../../apps/wifi_ota_app_upgrade/images/ota_process_fail.png" alt="otafail" /></p> </li> <li>During reset, device will check if any newly downloaded image is available in the external flash(sst26vf): <ul> <li>if yes, bootloader will program new image to program-flash area of the device from external flash. <ul> <li>if programming is successful bootloader will hand over control and application will start executing.</li> </ul> </li> <li>if no new image is available then bootloader will hand over control without programming any image and application image already present in the program-flash area will start executing</li> </ul> </li> <li> <p>If any new image is available in external flash bootloader will try to program the new image. During programming if bootloader finds that the image is not valid (based on certain criteria, check “ota_bootloader” project reference for more details) then , bootloader will stop programming that particular image and check for other highest ranked (check “ota_bootloader” project reference for more details) valid image prepsent in the external flash and start programming it. Once programming is completed successfully , bootloader will hand over control and application will start executing.</p> </li> <li>User will come to know if new image is running by checking the slot number in console print ( as mention above under “Application Header Structure”- topic )</li> </ol> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2021 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
