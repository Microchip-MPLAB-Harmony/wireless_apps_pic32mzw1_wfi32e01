<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Wi-Fi Easy Configuration | Harmony 3 Wireles application examples for PIC32MZ W1 family</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Wi-Fi Easy Configuration" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Wireless application examples for PIC32MZ W1 family" /> <meta property="og:description" content="Harmony 3 Wireless application examples for PIC32MZ W1 family" /> <link rel="canonical" href="../../apps/wifi_easy_config/readme.html" /> <meta property="og:url" content="../../apps/wifi_easy_config/readme.html" /> <meta property="og:site_name" content="Harmony 3 Wireles application examples for PIC32MZ W1 family" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Wi-Fi Easy Configuration" /> <script type="application/ld+json"> {"@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"url":"../../apps/wifi_easy_config/readme.html","headline":"Wi-Fi Easy Configuration","description":"Harmony 3 Wireless application examples for PIC32MZ W1 family","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../" class="nav-list-link">Harmony 3 Wireless application examples for PIC32MZ W1 family</a><ul class="nav-list "><li class="nav-list-item "><a href="../../apps/ota_bootloader/readme.html" class="nav-list-link">OTA Boot Loader</a></li><li class="nav-list-item "><a href="../../apps/paho_mqtt_client/readme.html" class="nav-list-link">Paho MQTT Client</a></li><li class="nav-list-item "><a href="../../apps/paho_mqtt_tls_client/readme.html" class="nav-list-link">Paho MQTT TLS Client</a></li><li class="nav-list-item "><a href="../../apps/tcp_client/readme.html" class="nav-list-link">Secured TCP Client</a></li><li class="nav-list-item "><a href="../../apps/tcp_server/readme.html" class="nav-list-link">TCP Server</a></li><li class="nav-list-item "><a href="../../apps/udp_client/readme.html" class="nav-list-link">UDP Client</a></li><li class="nav-list-item "><a href="../../apps/udp_server/readme.html" class="nav-list-link">UDP Server</a></li><li class="nav-list-item "><a href="../../apps/weather_client/readme.html" class="nav-list-link">Weather Client</a></li><li class="nav-list-item active"><a href="../../apps/wifi_easy_config/readme.html" class="nav-list-link active">Wi-Fi Easy Configuration</a></li><li class="nav-list-item "><a href="../../apps/wifi_sta/config_driver_readme.html" class="nav-list-link">Wi-Fi STA (driver mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_sta/readme.html" class="nav-list-link">Wi-Fi STA (service mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_ap/readme.html" class="nav-list-link">Wi-Fi Soft AP (Service mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_ap/config_driver_readme.html" class="nav-list-link">Wi-Fi Soft AP (driver mode)</a></li><li class="nav-list-item "><a href="../../apps/wifi_eth_dual_interface/readme.html" class="nav-list-link">Wi-Fi ethernet dual interface</a></li><li class="nav-list-item "><a href="../../apps/wifi_touch_demo/readme.html" class="nav-list-link">WiFi Touch Demo</a></li></ul></li><li class="nav-list-item"><a href="../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 Wireles application examples for PIC32MZ W1 family" aria-label="Search Harmony 3 Wireles application examples for PIC32MZ W1 family" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../">Harmony 3 Wireless application examples for PIC32MZ W1 family</a></li> <li class="breadcrumb-nav-list-item"><span>Wi-Fi Easy Configuration</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><a href="https://www.microchip.com"><img src="https://www.microchip.com/ResourcePackages/Microchip/assets/dist/images/logo.png" alt="MCHP" /></a></p> <h1 id="wi-fi-easy-configuration"> <a href="#wi-fi-easy-configuration" aria-labelledby="wi-fi-easy-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Wi-Fi Easy Configuration </h1> <p>This example showcase Wi-Fi AP application to illustrate SoftAP mode Wi-Fi provisioning via command line(CLI),Socket and HTTP.</p> <h2 id="description"> <a href="#description" aria-labelledby="description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Description </h2> <p>This application demonstrates how a user can configure the device with the credentials of the Home AP. The device will come up in SoftAP mode, the user will connect to the SoftAP via a third party STA. User will then send the Home AP credentials to the device and the device will store the credentials in the NVM. The device will auto reboot. Upon reboot, the device will come up in STA mode, it will connect to the Home AP and acquire an IP address.</p> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_diagram.png" alt="" /> <br /> DUT will act either in AP mode or STA mode.</p> <h2 id="downloading-and-building-the-application"> <a href="#downloading-and-building-the-application" aria-labelledby="downloading-and-building-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Downloading and building the application </h2> <p>To download or clone this application from Github, go to the <a href="https://github.com/Microchip-MPLAB-Harmony/wireless_apps_pic32mzw1_wfi32e01">top level of the repository</a></p> <p>Path of the application within the repository is <strong>apps/wifi_easy_config/firmware</strong> .</p> <p>To build the application, refer to the following table and open the project using its IDE.</p> <div class="table-wrapper"><table> <thead> <tr> <th>Project Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>pic32mz_w1_curiosity_freertos.X</td> <td>MPLABX FreeRTOS project for PIC32MZ W1 Curiosity Board</td> </tr> <tr> <td>pic32mz_w1_curiosity</td> <td>MPLABX project for PIC32MZ W1 Curiosity Board</td> </tr> <tr> <td> </td> <td> </td> </tr> </tbody> </table></div> <h2 id="setting-up-pic32mz-w1-curiosity-board"> <a href="#setting-up-pic32mz-w1-curiosity-board" aria-labelledby="setting-up-pic32mz-w1-curiosity-board" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up PIC32MZ W1 Curiosity Board </h2> <ul> <li>Connect the Debug USB port on the board to the computer using a micro USB cable</li> <li>On the GPIO Header (J207), connect U1RX (PIN 13) and U1TX (PIN 23) to TX and RX pin of any USB to UART converter</li> <li>Home AP (Wi-Fi Access Point with internet connection)</li> </ul> <h2 id="running-the-application"> <a href="#running-the-application" aria-labelledby="running-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running the Application </h2> <ol> <li>Open the project and launch Harmony3 configurator.</li> <li> <p>Configure SoftAP credentials as required.</p> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_MHC1.png" alt="MHC" /></p> </li> <li>Save configurations and generate code via MHC</li> <li>Build and program the generated code into the hardware using its IDE</li> <li>Open the Terminal application (Ex.:Tera term) on the computer</li> <li>Connect to the “USB to UART” COM port and configure the serial settings as follows: <ul> <li>Baud : 115200</li> <li>Data : 8 Bits</li> <li>Parity : None</li> <li>Stop : 1 Bit</li> <li>Flow Control : None</li> </ul> </li> <li> <p>The device will boot in SoftAP mode.</p> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_log1.png" alt="Console" /></p> </li> </ol> <h3 id="provisioning-using-tcp-socket"> <a href="#provisioning-using-tcp-socket" aria-labelledby="provisioning-using-tcp-socket" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provisioning using TCP Socket </h3> <ul> <li> <p>Connect to the SoftAP from a laptop or mobile phone.User may have to enter password on laptop or mobile phone for connecting to device SoftAP based on security type selected in MHC. As soon as the client connects, the device will print the IP address leased to it.</p> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_log2.png" alt="Console" /></p> </li> <li> <p>Using a TCP Client tool like Packet Sender installed in the laptop connected to the softAP, send the following JSON file to AP’s provisioning port (192.168.1.1:6666)</p> </li> <li> <p>Note: User would need to edit the default JSON file as per their home AP settings.</p> </li> </ul> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> 
</span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nl">"save_config"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="nl">"countrycode"</span><span class="p">:</span><span class="s2">"GEN"</span><span class="p">,</span><span class="w"> 
</span><span class="nl">"STA"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nl">"auto"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nl">"auth"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="nl">"SSID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dlink"</span><span class="p">,</span><span class="w"> </span><span class="nl">"PWD"</span><span class="p">:</span><span class="s2">"password"</span><span class="p">},</span><span class="w"> 
</span><span class="nl">"AP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"ch"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nl">"ssidv"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nl">"auth"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nl">"SSID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEMO_AP_SOFTAP"</span><span class="p">,</span><span class="w"> </span><span class="nl">"PWD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> 
</span></code></pre></div></div> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_tool.png" alt="" /></p> <ul> <li>For more details follow the steps available in page: * <a href="https://microchip-mplab-harmony.github.io/wireless_system_pic32mzw1_wfi32e01/system/wifiprov/docs/usage.md#wi-fi-provisioning-with-json-format">Wi-Fi provisioning Using JSON Format</a></li> </ul> <h3 id="provisioning-using-mobile-application"> <a href="#provisioning-using-mobile-application" aria-labelledby="provisioning-using-mobile-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provisioning using Mobile Application </h3> <ul> <li> <p>Connect to the SoftAP from a mobile phone.User may have to enter password on mobile phone for connecting to device SoftAP based on security type selected in MHC. As soon as the client connects, the device will print the IP address leased to it.</p> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_log2.png" alt="Console" /></p> </li> <li> <p>For more details follow the steps available in page: <a href="https://microchip-mplab-harmony.github.io/wireless_system_pic32mzw1_wfi32e01/system/wifiprov/docs/usage.md#wi-fi-provisioning-with-mobile-application">Wi-Fi provisioning Using Mobile Application</a></p> </li> </ul> <h3 id="provisioning-using-httpwebpage"> <a href="#provisioning-using-httpwebpage" aria-labelledby="provisioning-using-httpwebpage" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provisioning using HTTP(webpage) </h3> <ul> <li> <p>Connect to the SoftAP from a laptop or mobile phone.User may have to enter password on laptop or mobile phone for connecting to device SoftAP based on security type selected in MHC. As soon as the client connects, the device will print the IP address leased to it.</p> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_log2.png" alt="Console" /></p> </li> <li> <p>For more details follow the steps available in page:<a href="https://microchip-mplab-harmony.github.io/wireless_system_pic32mzw1_wfi32e01/system/wifiprov/docs/usage.md#http">Wi-Fi provisioning using HTTP</a></p> </li> </ul> <h3 id="provisioning-using-command-line"> <a href="#provisioning-using-command-line" aria-labelledby="provisioning-using-command-line" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Provisioning using Command line </h3> <ul> <li> <p>User can enter the below command to switch mode to STA and set desired SSID,passphase and security .</p> </li> <li> <p>wifiprov set 0 1 &lt;country_code&gt; &lt;channel&gt; &lt;authtype&gt; &lt;ssid_name&gt; &lt;psk_name&gt;</p> </li> <li> <p>For more details follow the steps available in page: <a href="https://microchip-mplab-harmony.github.io/wireless_system_pic32mzw1_wfi32e01/system/wifiprov/docs/usage.md#command-line">Wi-Fi provisioning using CLI</a></p> </li> </ul> <p>The device will auto-reboot into STA mode.<br /> The device will now connect to the configured AP.<br /></p> <p><img src="../../apps/wifi_easy_config/images/wifi_easyconfig_log3.png" alt="Console" /></p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2021 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
