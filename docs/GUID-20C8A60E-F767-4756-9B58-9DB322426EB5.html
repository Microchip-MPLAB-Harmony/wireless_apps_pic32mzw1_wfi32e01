<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="This example application shows how to use WFI32-IoT device low power modes, Extreme Deep sleep mode (XDS) , Deep sleep mode (DS), Sleep mode, and Idle mode along with Wi-Fi sleep mode(WSM) and Wi-Fi ..."/><meta name="copyright" content="(C) Copyright 2024"/><meta name="generator" content="DITA-OT"/><title>1.1 Paho MQTT Client Power Save</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /D:\InfoShare\Data\Publish\Data\i0ljxc4yqul\work\temp?&gt;&lt;?workdir-uri file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/temp/?&gt;&lt;?path2project?&gt;&lt;?path2project-uri ./?&gt;&lt;?path2rootmap-uri ./?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;paho-mqtt-client-power-save&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;topic:1;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;title:1;184:15&#34;&gt;Paho MQTT Client Power Save&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;body:1;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:1;184:15&#34;&gt;This example application shows how to use WFI32-IoT device low power modes, Extreme Deep sleep mode (XDS) , Deep sleep mode (DS), Sleep mode, and Idle mode along with Wi-Fi sleep mode(WSM) and Wi-Fi power off(WOFF).&lt;/p&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; mapkeyref=&#34;GUID-AD42A25B-1AB7-4B86-8431-B386D384D7EA&#34; xtrc=&#34;topicref:1;6:99&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-23CAE9F3-0C00-4401-916F-59366C266046.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-60AE2339-6045-4BAA-AEBC-AAEE24D8C566.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:1;6:99&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-AD42A25B-1AB7-4B86-8431-B386D384D7EA.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;Harmony 3 Wireless application examples for PIC32MZ W1 family&lt;/linktext&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;description&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;topic:2;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;title:2;184:15&#34;&gt;Description&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;body:2;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:2;184:15&#34;&gt;This example application demonstrates below functionalities,&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:1;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:1;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:3;184:15&#34;&gt;How to read room temperature data periodically using WFI32-IoT Board.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:2;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:4;184:15&#34;&gt;Connect to unsecured MQTT Broker using Paho MQTT Client and publishes temperature data to topic every 5 minutes.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:3;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:5;184:15&#34;&gt;The Device enters into configured sleep mode after receiving the publishes acknowledgement from MQTT Broker.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:4;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:6;184:15&#34;&gt;Device can wake-up from sleep modes using RTCC or Button Press(SW1).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;downloading-and-building-the-application&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;topic:3;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;title:3;184:15&#34;&gt;Downloading and building the application&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;body:3;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:7;184:15&#34;&gt;To download or clone this application from Github, go to the &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://github.com/Microchip-MPLAB-Harmony/wireless_apps_pic32mzw1_wfi32e01&#34; format=&#34;html&#34; scope=&#34;external&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;xref:1;184:15&#34;&gt;&lt;?ditaot usertext?&gt;top level of the repository&lt;/xref&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:8;184:15&#34;&gt;Path of the application within the repository is &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;b:1;184:15&#34;&gt;apps/paho_mqtt_client_power_save/firmware&lt;/b&gt; .&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:9;184:15&#34;&gt;To build the application, refer to the following table and open the project using its IDE.&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;table:1;184:15&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;tgroup:1;184:15&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;colspec:1;184:15&#34; colnum=&#34;1&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;colspec:2;184:15&#34; colnum=&#34;2&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;thead:1;184:15&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;row:1;184:15&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;entry:1;184:15&#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34;&gt;Project Name&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;entry:2;184:15&#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34;&gt;Description&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;tbody:1;184:15&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;row:2;184:15&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;entry:3;184:15&#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34;&gt;wfi32_iot.X&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;entry:4;184:15&#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34;&gt;MPLABX project for WFI32-IoT board&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;row:3;184:15&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; namest=&#34;col1&#34; nameend=&#34;col2&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;entry:5;184:15&#34; colname=&#34;col1&#34; dita-ot:morecols=&#34;1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34;/&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;setting-up-wfi32-iot-board&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;topic:4;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;title:4;184:15&#34;&gt;Setting up WFI32 IOT Board&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;body:4;184:15&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:2;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:5;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:10;184:15&#34;&gt;Connect the USB port(J200) on the board to the computer using a micro-USB cable.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:6;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:11;184:15&#34;&gt;Home AP (Wi-Fi Access Point with internet connection)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;running-the-application&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;topic:5;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;title:5;184:15&#34;&gt;Running the Application&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;body:5;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:12;184:15&#34;&gt;1.Open the project and launch Harmony3 configurator.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:13;184:15&#34;&gt;2.Configure home AP credentials for STA Mode.&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-CCA6DFC5-8DA7-43C4-8427-A50B5633AF53-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;image:1;184:15&#34; dita-ot:image-width=&#34;700&#34; dita-ot:image-height=&#34;400&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;alt:1;184:15&#34;&gt;resized_configurator&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:14;184:15&#34;&gt;3.Currently MQTT Service is configured to run a MQTT Client in unsecured mode to connect to test.mosquitto.org on the mqtt port (1883). In case the user wants to change this config, please make the changes in the MQTT Service Module configurations as shown below:&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-0D591D56-DA02-4C33-9AB9-77623ED636E6-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;image:2;184:15&#34; dita-ot:image-width=&#34;700&#34; dita-ot:image-height=&#34;400&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;alt:2;184:15&#34;&gt;resized_mqttservice_configurator&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:15;184:15&#34;&gt;4.Enable Power peripheral library all the configuration as shown in below Harmony3 configurator project graph.&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-9020ECB4-5A60-4D44-AB83-6BD29BE04092-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;image:3;184:15&#34; dita-ot:image-width=&#34;619&#34; dita-ot:image-height=&#34;228&#34; dita-ot:horizontal-dpi=&#34;120&#34; dita-ot:vertical-dpi=&#34;120&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;alt:3;184:15&#34;&gt;powerplib_ds&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:16;184:15&#34;&gt;5.By default, application is configured to run into deep sleep modes (DS). User can select desired low power mode of MCU and Wi-Fi using Harmony3 configurator (MHC)/MPLAB® Code Configurator (MCC) menu.&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-A0C88951-9B26-42BC-9D2B-841B47816D80-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;image:4;184:15&#34; dita-ot:image-width=&#34;419&#34; dita-ot:image-height=&#34;472&#34; dita-ot:horizontal-dpi=&#34;120&#34; dita-ot:vertical-dpi=&#34;120&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;alt:4;184:15&#34;&gt;powerplib_MCC_MENU&lt;/alt&gt;&lt;/image&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;codeblock:1;184:15&#34;&gt;Note: &amp;#xD; - Configuration to change MCU power save mode is “g_mcuSleepMode = MCU Power save mode” in application in apps_mqtt.c file.&amp;#xD; - Configuration to change MCU power save mode is “g_wiFiSleepMode = Wi-Fi power save mode” in application in apps_mqtt.c file. &amp;#xD;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:17;184:15&#34;&gt;6.Save configurations and generate code via Harmony3 configurator (MHC)/MPLAB® Code Configurator (MCC).&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:18;184:15&#34;&gt;7.Build and program the generated code into the hardware using its IDE.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:19;184:15&#34;&gt;8.Open the Terminal application (Ex.:Tera term) on the computer.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:20;184:15&#34;&gt;9.Connect to the &#34;USB to UART&#34; COM port and configure the serial settings as follows:&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;codeblock:2;184:15&#34;&gt;- Baud : 115200&amp;#xD; - Data : 8 Bits&amp;#xD; - Parity : None&amp;#xD; - Stop : 1 Bit&amp;#xD; - Flow Control : None &amp;#xD;&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:21;184:15&#34;&gt;10.The Board will start reading room temperature data every 5 second using on board temperature sensor.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:22;184:15&#34;&gt;11.The Board will connect to AP and then as per the default MQTT Service configuration, it shall connect to test.mosquitto.org and publish room temperature data on the topic ‘MCHP/Sample/a’ after 5 Minute. It also subscribes to topic ‘MCHP/Sample/b’&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-4D5051C6-E658-4678-AF3A-D01B68D2005C-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;image:5;184:15&#34; dita-ot:image-width=&#34;810&#34; dita-ot:image-height=&#34;538&#34; dita-ot:horizontal-dpi=&#34;120&#34; dita-ot:vertical-dpi=&#34;120&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;alt:5;184:15&#34;&gt;mqtt_client_powersave_console_1&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:23;184:15&#34;&gt;12.If any third party MQTT Client connects to test.mosquitto.org and subscribes to the topic ‘MCHP/Sample/a’, it will receive the periodic room temperature data being published by the MQTT Client running on the WFI32-IoT board. The default application will publish periodic room temperature data to a topic every 5 Minutes.&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-754A2F9F-9EFE-413F-8328-DA9A7B8F2A28-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;image:6;184:15&#34; dita-ot:image-width=&#34;801&#34; dita-ot:image-height=&#34;585&#34; dita-ot:horizontal-dpi=&#34;120&#34; dita-ot:vertical-dpi=&#34;120&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;alt:6;184:15&#34;&gt;mqtt_client_powersave_brokerlog&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:24;184:15&#34;&gt;13.After receiving the publishes acknowledgement from MQTT Broker, device enter into sleep mode (XDS or DS),Sleep or idle mode along with Wi-Fi power save(WSM).&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-94394587-B2D3-4C51-837B-2486D26E4CFE-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;image:7;184:15&#34; dita-ot:image-width=&#34;387&#34; dita-ot:image-height=&#34;35&#34; dita-ot:horizontal-dpi=&#34;120&#34; dita-ot:vertical-dpi=&#34;120&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;alt:7;184:15&#34;&gt;mqtt_client_powersave_console_2&lt;/alt&gt;&lt;/image&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:3;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:7;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:25;184:15&#34;&gt;User can start performing the power measurement when the device prints the above console message “Published Msg Temperature =value in C” and UART console stop printing new messages.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:8;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:26;184:15&#34;&gt;The information on how to perform the power measurement with the WFI32-IoT board is available &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://microchipsupport.force.com/s/article/How-to-perform-the-low-power-measurement-on-WFI32-IoT-Board&#34; format=&#34;html&#34; scope=&#34;external&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;xref:2;184:15&#34;&gt;&lt;?ditaot usertext?&gt;here&lt;/xref&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:9;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:27;184:15&#34;&gt;The information on how to Design Low Power Application with WFI32 board is available &lt;xref class=&#34;- topic/xref &#34; href=&#34;https://microchipsupport.force.com/s/article/How-to-design-low-power-application-using-WFI32-IoT-board&#34; format=&#34;html&#34; scope=&#34;external&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;xref:3;184:15&#34;&gt;&lt;?ditaot usertext?&gt;here&lt;/xref&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:28;184:15&#34;&gt;14.In default application, device will wake-up after 1 minute using RTCC as wake-up source.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:29;184:15&#34;&gt;15.User can press WFI32-IoT Board SW1 button to wake-up device at any time.&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:4;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:10;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:30;184:15&#34;&gt;Details of wake-up source supported in low power modes.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:11;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:31;184:15&#34;&gt;Supported Wake-up sources:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:5;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:12;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:32;184:15&#34;&gt;XDS :&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:6;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:13;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:33;184:15&#34;&gt;EXT INT0(button press using SW1)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:14;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:34;184:15&#34;&gt;DS, Sleep, Dream and Idle mode:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:7;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:15;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:35;184:15&#34;&gt;EXT INT0(button press using SW1) and RTCC&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:16;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:36;184:15&#34;&gt;Note: RTCC default application wakeup time is 1 Minute.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:37;184:15&#34;&gt;Note:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:8;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:17;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:38;184:15&#34;&gt;XDS and DS wakeup to work,kindly make sure below plib_clk.c chages are available in the project.&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:9;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:18;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:39;184:15&#34;&gt;Replace condition,&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:19;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:40;184:15&#34;&gt;/&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;i:1;184:15&#34;&gt;if((!CLKSTATbits.SPLLRDY &amp;amp;&amp;amp; RCONbits.POR == 1 &amp;amp;&amp;amp; RCONbits.EXTR == 1) || (1 == CLKSTATbits.SPLLRDY &amp;amp;&amp;amp; 0 == RCONbits.POR &amp;amp;&amp;amp; ((1 == RCONbits.EXTR) || (1 == RCONbits.SWR))))&lt;/i&gt;/&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:20;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:41;184:15&#34;&gt;With below condition&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:21;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:42;184:15&#34;&gt;if(((!CLKSTATbits.SPLLRDY) &amp;amp;&amp;amp; ((RCONbits.POR == 1 &amp;amp;&amp;amp; RCONbits.EXTR == 1) || (RCONbits.DPSLP == 1))) || (1 == CLKSTATbits.SPLLRDY &amp;amp;&amp;amp; 0 == RCONbits.POR &amp;amp;&amp;amp; ((1 == RCONbits.EXTR) || (1 == RCONbits.SWR))))&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:10;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:22;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:43;184:15&#34;&gt;This Changes will be include in next CSP release.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:23;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:44;184:15&#34;&gt;Before Entering to sleep mode, non-wakeup interrupt sources needed to be disabled to achieve desired low power numbers. User can find details of wakeup interrupt sources in the interrupts.c file.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:24;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:45;184:15&#34;&gt;User is requested to ensure that app_mqtt.c , app_mqtt.h,app.c and app.h files are not overwritten with generated code.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:25;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:46;184:15&#34;&gt;Pre-condition for wake-up from sleep modes:&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;ul:11;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:26;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:47;184:15&#34;&gt;The PMD3 register W24GMD bit should be set When Wi-Fi driver/service functionlity is completely removed from project.&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;li:27;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/i0ljxc4yqul/work/3/en-US/GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md&#34; xtrc=&#34;p:48;184:15&#34;&gt;The function WDRV_PIC32MZW_PowerSaveModeSet(WSM/WDS) should be called before entering the sleep When Wi-Fi driver/service functionlity is enabled.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.md"/><meta name="wh-out-relpath" content="GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
    <script src="https://assets.adobedtm.com/6a72a357eb48/a636c708c7fe/launch-0b0023397020.min.js"></script><!-- Adobe Analytics -->
</head>

    <body id="paho-mqtt-client-power-save" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="MPLAB Harmony Wireless application examples for PIC32MZ W1 family &#xA;    "/></a>
                    <div class=" wh_publication_title "><a href="index.html">MPLAB Harmony Wireless application examples for PIC32MZ W1 family 
    </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="harmony-3-wireless-application-examples-for-pic32mz-w1-family"><div class="title"><a href="GUID-60AE2339-6045-4BAA-AEBC-AAEE24D8C566.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
Harmony 3 Wireless application examples for PIC32MZ W1 family</a></div></div></li><li class="active"><div class="topicref" data-id="paho-mqtt-client-power-save"><div class="title"><a href="GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
Paho MQTT Client Power Save</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            <div class="row" style="margin-top: -1em;"><div class="col-lg-7 col-md-7 col-sm-12 offset-lg-3 offset-md-3 text-right border-bottom mb-1"><h2 class="text-dark header_title">
    </h2></div></div>
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="true"><div data-tocid="harmony-3-wireless-application-examples-for-pic32mz-w1-family-d528e11" class="topicref" data-id="harmony-3-wireless-application-examples-for-pic32mz-w1-family" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action harmony-3-wireless-application-examples-for-pic32mz-w1-family-d528e11-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-60AE2339-6045-4BAA-AEBC-AAEE24D8C566.html" id="harmony-3-wireless-application-examples-for-pic32mz-w1-family-d528e11-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
Harmony 3 Wireless application examples for PIC32MZ W1 family</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" class="active"><div data-tocid="paho-mqtt-client-power-save-d528e19" class="topicref" data-id="paho-mqtt-client-power-save" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-20C8A60E-F767-4756-9B58-9DB322426EB5.html" id="paho-mqtt-client-power-save-d528e19-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
Paho MQTT Client Power Save</a></div></div></li><li role="treeitem"><div data-tocid="over-the-air-ota-programming-using-wi-fi-d528e27" class="topicref" data-id="over-the-air-ota-programming-using-wi-fi" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-762D351F-B3C9-4D90-A833-047AB8C62546.html" id="over-the-air-ota-programming-using-wi-fi-d528e27-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
Over The Air (OTA) Programming Using Wi-Fi</a></div></div></li><li role="treeitem"><div data-tocid="ota-boot-loader-d528e35" class="topicref" data-id="ota-boot-loader" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-74FBC25B-9FC7-4084-895C-CFF3557AFED7.html" id="ota-boot-loader-d528e35-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3</ph>
OTA Boot Loader</a></div></div></li><li role="treeitem"><div data-tocid="paho-mqtt-client-d528e43" class="topicref" data-id="paho-mqtt-client" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-9E856A96-A839-48E3-A836-DB540A6DAD5F.html" id="paho-mqtt-client-d528e43-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.4</ph>
Paho MQTT Client</a></div></div></li><li role="treeitem"><div data-tocid="paho-mqtt-tls-client-d528e51" class="topicref" data-id="paho-mqtt-tls-client" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-9AB43217-7703-4E5C-A4E9-95ECE752BC96.html" id="paho-mqtt-tls-client-d528e51-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.5</ph>
Paho MQTT TLS Client</a></div></div></li><li role="treeitem"><div data-tocid="secured-tcp-client-d528e59" class="topicref" data-id="secured-tcp-client" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-57D1D89F-96CA-4B17-91DF-87EE35C253AD.html" id="secured-tcp-client-d528e59-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6</ph>
Secured TCP Client</a></div></div></li><li role="treeitem"><div data-tocid="tcp-server-d528e67" class="topicref" data-id="tcp-server" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-D77D373B-6C31-4B89-B845-20EBC43B5338.html" id="tcp-server-d528e67-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.7</ph>
TCP Server</a></div></div></li><li role="treeitem"><div data-tocid="udp-client-d528e75" class="topicref" data-id="udp-client" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-FAC00AC7-190C-4DA4-9DD1-1AA5CF66C91B.html" id="udp-client-d528e75-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.8</ph>
UDP Client</a></div></div></li><li role="treeitem"><div data-tocid="udp-server-d528e83" class="topicref" data-id="udp-server" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-15B6C8A2-A5C0-4B7C-8EA9-E78BB97A1E70.html" id="udp-server-d528e83-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.9</ph>
UDP Server</a></div></div></li><li role="treeitem"><div data-tocid="weather-client-d528e91" class="topicref" data-id="weather-client" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-469E62DD-F12B-4957-B7CE-CE9872A959AF.html" id="weather-client-d528e91-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.10</ph>
Weather Client</a></div></div></li><li role="treeitem"><div data-tocid="wi-fi-easy-configuration-d528e100" class="topicref" data-id="wi-fi-easy-configuration" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-54CDF33A-7EAD-4852-BA0C-B094340DD005.html" id="wi-fi-easy-configuration-d528e100-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.11</ph>
Wi-Fi Easy Configuration</a></div></div></li><li role="treeitem"><div data-tocid="wifi-ethernet-dual-interface-d528e108" class="topicref" data-id="wifi-ethernet-dual-interface" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-C338829F-E46E-4F48-BC7F-FB2FD4F5E765.html" id="wifi-ethernet-dual-interface-d528e108-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.12</ph>
Wifi-ethernet dual interface</a></div></div></li><li role="treeitem"><div data-tocid="wi-fi-touch-demo-d528e116" class="topicref" data-id="wi-fi-touch-demo" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-317E7EAB-8478-4719-B61E-C3962DC4B956.html" id="wi-fi-touch-demo-d528e116-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.13</ph>
Wi-Fi Touch Demo</a></div></div></li><li role="treeitem"><div data-tocid="ifttt-demo-d528e124" class="topicref" data-id="ifttt-demo" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-511002C5-EBFB-4368-9B0A-B0856020DA8E.html" id="ifttt-demo-d528e124-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.14</ph>
IFTTT Demo</a></div></div></li><li role="treeitem"><div data-tocid="wlan-ap-d528e132" class="topicref" data-id="wlan-ap" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-5F220E9D-ADEA-4AE4-AFDF-4805F99FF1F2.html" id="wlan-ap-d528e132-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.15</ph>
WLAN AP</a></div></div></li><li role="treeitem"><div data-tocid="wi-fi-access-pointap-mode-d528e140" class="topicref" data-id="wi-fi-access-pointap-mode" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-B2859BF5-FA82-4C16-9F20-1CAB153ABCA1.html" id="wi-fi-access-pointap-mode-d528e140-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.16</ph>
Wi-Fi Access Point(AP) Mode</a></div></div></li><li role="treeitem"><div data-tocid="wlan-sta-d528e148" class="topicref" data-id="wlan-sta" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-418D4259-4AF0-495E-A69E-34AF86FEA705.html" id="wlan-sta-d528e148-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.17</ph>
WLAN STA</a></div></div></li><li role="treeitem"><div data-tocid="wi-fi-stationsta-mode-d528e156" class="topicref" data-id="wi-fi-stationsta-mode" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-583F51B5-E64F-49D3-995D-86BB3570AF16.html" id="wi-fi-stationsta-mode-d528e156-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.18</ph>
Wi-Fi Station(STA) Mode</a></div></div></li><li role="treeitem"><div data-tocid="web-socket-server-d528e164" class="topicref" data-id="web-socket-server" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-E6146ACA-EA1A-4F4B-8062-8B27B1E22725.html" id="web-socket-server-d528e164-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.19</ph>
Web Socket Server</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d528e172" class="topicref backmatter backmatter_parent" data-id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d528e172-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B.html" id="GUID-0FB3F908-88EE-45CE-94F5-E97AF9049C9B-d528e172-link">Microchip Information</a></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1" style="">1.1 Paho MQTT Client Power Save</h1><div class="- topic/body body"><p class="- topic/p p">This example application shows how to use WFI32-IoT device low power modes, Extreme Deep sleep mode (XDS) , Deep sleep mode (DS), Sleep mode,  and Idle mode along with Wi-Fi sleep mode(WSM) and Wi-Fi power off(WOFF).</p></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="description"><h2 class="- topic/title title topictitle2" id="ariaid-title2" style=""> Description</h2><div class="- topic/body body"><p class="- topic/p p">This example application demonstrates below functionalities,</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">How to read room temperature data periodically using WFI32-IoT Board.</p></li><li class="- topic/li li"><p class="- topic/p p">Connect to unsecured MQTT Broker using Paho MQTT Client and publishes temperature data to topic every 5 minutes.</p></li><li class="- topic/li li"><p class="- topic/p p">The Device enters into configured sleep mode after receiving the publishes acknowledgement from MQTT Broker.</p></li><li class="- topic/li li"><p class="- topic/p p">Device can wake-up from sleep modes using RTCC or Button Press(SW1).</p></li></ul></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title3" id="downloading-and-building-the-application"><h2 class="- topic/title title topictitle2" id="ariaid-title3" style=""> Downloading and building the application</h2><div class="- topic/body body"><p class="- topic/p p">To download or clone this application from Github, go to the <a class="- topic/xref xref" href="https://github.com/Microchip-MPLAB-Harmony/wireless_apps_pic32mzw1_wfi32e01" target="_blank" rel="external noopener">top level of the repository</a></p><p class="- topic/p p">Path of the application within the repository is <strong class="+ topic/ph hi-d/b ph b">apps/paho_mqtt_client_power_save/firmware</strong> .</p><p class="- topic/p p">To build the application, refer to the following table and open the project using its IDE.</p><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="downloading-and-building-the-application__entry__1">Project Name</th><th class="- topic/entry entry colsep-0 rowsep-0" id="downloading-and-building-the-application__entry__2">Description</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="downloading-and-building-the-application__entry__1">wfi32_iot.X</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="downloading-and-building-the-application__entry__2">MPLABX project for WFI32-IoT board</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="downloading-and-building-the-application__entry__1 downloading-and-building-the-application__entry__2" colspan="2"></td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title4" id="setting-up-wfi32-iot-board"><h2 class="- topic/title title topictitle2" id="ariaid-title4" style=""> Setting up WFI32 IOT Board</h2><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Connect the USB port(J200) on the board to the computer using a micro-USB cable.</p></li><li class="- topic/li li"><p class="- topic/p p">Home AP (Wi-Fi Access Point with internet connection)</p></li></ul></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title5" id="running-the-application"><h2 class="- topic/title title topictitle2" id="ariaid-title5" style=""> Running the Application</h2><div class="- topic/body body"><p class="- topic/p p">1.Open the project and launch Harmony3 configurator.</p><p class="- topic/p p">2.Configure home AP credentials for STA Mode.</p><div class=""><img class="- topic/image image break break" src="GUID-CCA6DFC5-8DA7-43C4-8427-A50B5633AF53-low.png" alt="resized_configurator"/></div><p class="- topic/p p">3.Currently MQTT Service is configured to run a MQTT Client in unsecured mode to connect to test.mosquitto.org on the mqtt port (1883). In case the user wants to change this config, please make the changes in the MQTT Service Module configurations as shown below:</p><div class=""><img class="- topic/image image break break" src="GUID-0D591D56-DA02-4C33-9AB9-77623ED636E6-low.png" alt="resized_mqttservice_configurator"/></div><p class="- topic/p p">4.Enable Power peripheral library all the configuration as shown in below Harmony3 configurator project graph.</p><div class=""><img class="- topic/image image break break" src="GUID-9020ECB4-5A60-4D44-AB83-6BD29BE04092-low.png" alt="powerplib_ds"/></div><p class="- topic/p p">5.By default, application is configured to run into deep sleep modes (DS). User can select desired low power mode of MCU and Wi-Fi using Harmony3 configurator (MHC)/MPLAB® Code Configurator (MCC) menu.</p><div class=""><img class="- topic/image image break break" src="GUID-A0C88951-9B26-42BC-9D2B-841B47816D80-low.png" alt="powerplib_MCC_MENU"/></div><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>Note: &#xD;
- Configuration to change MCU power save mode is “g_mcuSleepMode = MCU Power save mode” in application in apps_mqtt.c file.&#xD;
- Configuration to change MCU power save mode is “g_wiFiSleepMode = Wi-Fi power save mode” in application in apps_mqtt.c file.  &#xD;</code></pre><p class="- topic/p p">6.Save configurations and generate code via Harmony3 configurator (MHC)/MPLAB® Code Configurator (MCC).</p><p class="- topic/p p">7.Build and program the generated code into the hardware using its IDE.</p><p class="- topic/p p">8.Open the Terminal application (Ex.:Tera term) on the computer.</p><p class="- topic/p p">9.Connect to the "USB to UART" COM port and configure the serial settings as follows:</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>- Baud : 115200&#xD;
- Data : 8 Bits&#xD;
- Parity : None&#xD;
- Stop : 1 Bit&#xD;
- Flow Control : None  &#xD;</code></pre><p class="- topic/p p">10.The Board will start reading room temperature data every 5 second using on board temperature sensor.</p><p class="- topic/p p">11.The Board will connect to AP and then as per the default MQTT Service configuration, it shall connect to test.mosquitto.org and publish room temperature data on the topic ‘MCHP/Sample/a’ after 5 Minute. It also subscribes to topic ‘MCHP/Sample/b’</p><div class=""><img class="- topic/image image break break" src="GUID-4D5051C6-E658-4678-AF3A-D01B68D2005C-low.png" alt="mqtt_client_powersave_console_1"/></div><p class="- topic/p p">12.If any third party MQTT Client connects to test.mosquitto.org and subscribes to the topic ‘MCHP/Sample/a’, it will receive the periodic room temperature data being published by the MQTT Client running on the WFI32-IoT board. The default application will publish periodic room temperature data to a topic every 5 Minutes.</p><div class=""><img class="- topic/image image break break" src="GUID-754A2F9F-9EFE-413F-8328-DA9A7B8F2A28-low.png" alt="mqtt_client_powersave_brokerlog"/></div><p class="- topic/p p">13.After receiving the publishes acknowledgement from MQTT Broker, device enter into sleep mode (XDS or DS),Sleep or idle mode along with Wi-Fi power save(WSM).</p><div class=""><img class="- topic/image image break break" src="GUID-94394587-B2D3-4C51-837B-2486D26E4CFE-low.png" alt="mqtt_client_powersave_console_2"/></div><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">User can start performing the power measurement when the device prints the above console message “Published Msg Temperature =value in C” and UART console stop printing new messages.</p></li><li class="- topic/li li"><p class="- topic/p p">The information on how to perform the power measurement with the WFI32-IoT board is available <a class="- topic/xref xref" href="https://microchipsupport.force.com/s/article/How-to-perform-the-low-power-measurement-on-WFI32-IoT-Board" target="_blank" rel="external noopener">here</a></p></li><li class="- topic/li li"><p class="- topic/p p">The information on how to Design Low Power Application with WFI32 board is available <a class="- topic/xref xref" href="https://microchipsupport.force.com/s/article/How-to-design-low-power-application-using-WFI32-IoT-board" target="_blank" rel="external noopener">here</a></p></li></ul><p class="- topic/p p">14.In default application, device will wake-up after 1 minute using RTCC as wake-up source.</p><p class="- topic/p p">15.User can press WFI32-IoT Board SW1 button to wake-up device at any time.</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Details of wake-up source supported in low power modes.</p></li><li class="- topic/li li"><p class="- topic/p p">Supported Wake-up sources:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">XDS :</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">EXT INT0(button press using SW1)</p></li></ul></li><li class="- topic/li li"><p class="- topic/p p">DS, Sleep, Dream and Idle mode:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">EXT INT0(button press using SW1) and RTCC</p></li><li class="- topic/li li"><p class="- topic/p p">Note: RTCC default application wakeup time is 1 Minute.</p></li></ul></li></ul></li></ul><p class="- topic/p p">Note:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">XDS and DS wakeup to work,kindly make sure below plib_clk.c chages are available in the project.</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Replace condition,</p></li><li class="- topic/li li"><p class="- topic/p p">/<em class="+ topic/ph hi-d/i ph i">if((!CLKSTATbits.SPLLRDY &amp;&amp; RCONbits.POR == 1 &amp;&amp; RCONbits.EXTR == 1)
|| (1 == CLKSTATbits.SPLLRDY &amp;&amp; 0 == RCONbits.POR &amp;&amp;
((1 == RCONbits.EXTR) || (1 == RCONbits.SWR))))</em>/</p></li><li class="- topic/li li"><p class="- topic/p p">With below condition</p></li><li class="- topic/li li"><p class="- topic/p p">if(((!CLKSTATbits.SPLLRDY) &amp;&amp; ((RCONbits.POR == 1 &amp;&amp; RCONbits.EXTR == 1) || (RCONbits.DPSLP == 1)))
|| (1 == CLKSTATbits.SPLLRDY &amp;&amp; 0 == RCONbits.POR &amp;&amp;
((1 == RCONbits.EXTR) || (1 == RCONbits.SWR))))</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">This Changes will be include in next CSP release.</p></li></ul></li></ul></li><li class="- topic/li li"><p class="- topic/p p">Before Entering to sleep mode, non-wakeup interrupt sources needed to be disabled to achieve desired low power numbers. User can find details of wakeup interrupt sources in the interrupts.c file.</p></li><li class="- topic/li li"><p class="- topic/p p">User is requested to ensure that app_mqtt.c , app_mqtt.h,app.c and app.h files are not overwritten with generated code.</p></li><li class="- topic/li li"><p class="- topic/p p">Pre-condition for wake-up from sleep modes:</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">The PMD3 register W24GMD bit should be set When Wi-Fi driver/service functionlity is completely removed from project.</p></li><li class="- topic/li li"><p class="- topic/p p">The function WDRV_PIC32MZW_PowerSaveModeSet(WSM/WDS) should be called before entering the sleep When Wi-Fi driver/service functionlity is enabled.</p></li></ul></li></ul></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">On this page</div><ul><li class="topic-item"><a href="#description" data-tocid="description"> Description</a></li><li class="topic-item"><a href="#downloading-and-building-the-application" data-tocid="downloading-and-building-the-application"> Downloading and building the application</a></li><li class="topic-item"><a href="#setting-up-wfi32-iot-board" data-tocid="setting-up-wfi32-iot-board"> Setting up WFI32 IOT Board</a></li><li class="topic-item"><a href="#running-the-application" data-tocid="running-the-application"> Running the Application</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
  
  <script type="text/javascript">_satellite.pageBottom();</script><!-- Adobe Analytics -->
  <script type="text/javascript" src="mchp-js/prepend.js"></script><!-- Package for viewing PDFs on mobile devices -->
  
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
       
        </body>
</html>